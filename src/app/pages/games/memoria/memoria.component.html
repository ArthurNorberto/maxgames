<div class="memory-wrapper container py-5">

  <div class="row justify-content-center">
    <div class="col-lg-8 col-md-12">

      <div class="memory-container">

        <h2>ğŸ§  Jogo da MemÃ³ria</h2>
        <p class="subtitle text-muted mb-4">
          Encontre todos os pares de peÃ§as automotivas!
        </p>

        <!-- ABAS -->
        <ul class="nav nav-tabs justify-content-center mb-4">
          <li class="nav-item">
            <button class="nav-link" [class.active]="activeTab==='jogo'" (click)="setActiveTab('jogo')">
              ğŸ® Jogo
            </button>
          </li>
          <li class="nav-item">
            <button class="nav-link" [class.active]="activeTab==='ranking'" (click)="setActiveTab('ranking')">
              ğŸ† Ranking
            </button>
          </li>
        </ul>

        <!-- JOGO -->
        <div *ngIf="activeTab==='jogo'" class="tab-content animate__animated animate__fadeIn">
          
          <!-- Barra de informaÃ§Ãµes -->
          <div class="info-bar d-flex justify-content-center gap-3 flex-wrap mb-4">
            <div>PontuaÃ§Ã£o: <strong>{{ score }}</strong></div>
            <div>Tempo: <strong>{{ timer }}s</strong></div>
            <div>NÃ­vel: <strong>{{ currentLevelLabel }}</strong></div>
            <button class="btn btn-primary btn-sm" (click)="startNewGame()">ğŸ” Novo Jogo</button>
          </div>

          <!-- Grade de cartas -->
          <div class="grid mx-auto"
               [ngStyle]="{'grid-template-columns': 'repeat(' + gridSizes[currentGridIndex].cols + ', 1fr)'}">
            <div class="card" *ngFor="let card of cards" [class.flipped]="card.flipped || card.matched"
                 (click)="flipCard(card)">
              <div class="card-inner">
                <div class="card-front">ğŸš—</div>
                <div class="card-back">{{ card.value }}</div>
              </div>
            </div>
          </div>

        </div>

        <!-- RANKING -->
        <div *ngIf="activeTab==='ranking'" class="tab-content animate__animated animate__fadeIn">
          <div class="ranking-box mx-auto">
            <h5 class="mb-3 text-center">ğŸ† Ranking â€“ Melhores Jogadores</h5>
            <ol class="mb-0 text-start">
              <li *ngFor="let r of ranking">{{ r.name }} â€” {{ r.score }} pts</li>
            </ol>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
