<div class="quiz-layout container-fluid py-4">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-10 text-center quiz-content">

      <!-- TÃ­tulo e descriÃ§Ã£o -->
      <h2 class="mb-2 animate__animated animate__fadeInDown">ğŸ¯ Quiz Autoglass</h2>
      <p class="text-muted mb-3 animate__animated animate__fadeInDown">
        Responda corretamente, ganhe pontos e mostre que vocÃª Ã© um especialista!
      </p>

      <!-- Abas -->
      <ul class="nav nav-tabs justify-content-center mb-4 animate__animated animate__fadeIn">
        <li class="nav-item">
          <button class="nav-link" [class.active]="activeTab==='quiz'" (click)="setActiveTab('quiz')">
            ğŸ® Jogo
          </button>
        </li>
        <li class="nav-item">
          <button class="nav-link" [class.active]="activeTab==='ranking'" (click)="setActiveTab('ranking')">
            ğŸ† Ranking
          </button>
        </li>
      </ul>

      <!-- ConteÃºdo do Quiz -->
      <div *ngIf="activeTab==='quiz'" class="tab-content animate__animated animate__fadeInUp">

        <!-- Painel de controle -->
        <div class="controls d-flex justify-content-center align-items-center mb-3 flex-wrap">
          <div class="score-display fs-5 mb-2 me-3">
            ğŸ§  Pontos: <strong>{{ score }}</strong>
          </div>
          <div class="help-buttons d-flex flex-wrap justify-content-center">
            <button class="btn btn-warning me-2 mb-2" (click)="useHelp('skip')" [disabled]="helps.skip <= 0">
              â­ï¸ Pular ({{ helps.skip }})
            </button>
            <button class="btn btn-success me-2 mb-2" (click)="useHelp('removeTwo')" [disabled]="helps.removeTwo <= 0">
              â– Remover 2 ({{ helps.removeTwo }})
            </button>
            <button class="btn btn-info me-2 mb-2" (click)="useHelp('hint')" [disabled]="helps.hint <= 0">
              ğŸ’¡ Dica ({{ helps.hint }})
            </button>
            <button class="btn btn-danger mb-2" (click)="newGame()">
              ğŸ” Novo Jogo
            </button>
          </div>
        </div>

        <!-- Ãrea do quiz -->
        <div class="quiz-box" *ngIf="!gameOver">
          <div class="question-number text-primary fw-bold mb-2">
            Pergunta {{ currentQuestionIndex + 1 }} / {{ questions.length }}
            <span class="badge bg-light text-dark ms-2">{{ currentQuestion?.level }}</span>
          </div>

          <div class="question-text fs-5 mb-4">
            {{ currentQuestion?.question }}
          </div>

          <div class="options d-flex flex-column align-items-center flex-wrap">
            <button
              *ngFor="let opt of currentQuestion?.options; let i = index"
              class="option-btn btn mb-2 px-4 py-2"
              (click)="chooseOption(opt)"
              [disabled]="optionDisabled"
            >
              {{ letters[i] }}) {{ opt }}
            </button>
          </div>

          <div *ngIf="hintText" class="hint mt-3 alert alert-info py-2 animate__animated animate__fadeIn">
            ğŸ’¡ Dica: {{ hintText }}
          </div>
        </div>

        <!-- Tela de fim -->
        <div class="end-screen" *ngIf="gameOver">
          <h3 class="mb-3 animate__animated animate__fadeIn">{{ endMessage }}</h3>
          <button class="btn btn-primary mt-2" (click)="newGame()">
            ğŸ” Jogar Novamente
          </button>
        </div>

      </div>

      <!-- Ranking -->
      <div *ngIf="activeTab==='ranking'" class="tab-content animate__animated animate__fadeInUp">
        <div class="rank-box shadow-sm p-4 rounded bg-light animate__animated animate__fadeIn">
          <h4 class="mb-3 text-center">ğŸ† Ranking - Top Jogadores</h4>
          <ol class="rank-list text-start mb-0">
            <li *ngFor="let r of ranking; let i = index">
              <strong>{{ r.name }}</strong> â€” {{ r.score }} pts
            </li>
          </ol>
        </div>
      </div>

    </div>
  </div>
</div>
