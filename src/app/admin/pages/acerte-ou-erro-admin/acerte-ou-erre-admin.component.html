<div class="admin-container">

  <h2 class="page-title">Configurar – Acerte ou Erre</h2>
  <p class="page-subtitle">Gerencie as palavras, perguntas e níveis deste jogo.</p>

  <div class="admin-actions">
    <button class="btn-primary" (click)="abrirModalNova()">
      + Adicionar Pergunta
    </button>

    <input
      class="search-box"
      type="text"
      placeholder="Pesquisar palavra ou pergunta..."
      [(ngModel)]="filtro"
      (input)="atualizarLista()"
    />
  </div>

  <!-- LISTA -->
  <div class="table-wrapper">
    <table class="admin-table">
      <thead>
        <tr>
          <th>Palavra</th>
          <th>Pergunta</th>
          <th>Dificuldade</th>
          <th class="col-actions">Ações</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let item of filtrados">
          <td>{{ item.palavra }}</td>
          <td>{{ item.pergunta }}</td>

          <td>
            <span class="tag" [ngClass]="item.level.toLowerCase()">
              {{ item.level }}
            </span>
          </td>

          <td class="col-actions">
            <button class="btn-small" (click)="abrirModalEditar(item)">Editar</button>
            <button class="btn-small danger" (click)="remover(item)">Excluir</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- BOOTSTRAP MODAL -->
  <div class="modal fade" id="modalPergunta" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">

        <div class="modal-header">
          <h5 class="modal-title">
            {{ editando ? 'Editar Pergunta' : 'Nova Pergunta' }}
          </h5>

          <button type="button" class="btn-close" (click)="fecharModal()"></button>
        </div>

        <div class="modal-body">

          <form #form="ngForm">

            <label>Palavra:</label>
            <input class="form-control" type="text" [(ngModel)]="model.palavra" name="palavra" required />

            <label class="mt-3">Pergunta:</label>
            <textarea class="form-control" [(ngModel)]="model.pergunta" name="pergunta" required></textarea>

            <label class="mt-3">Dificuldade:</label>
            <select class="form-select" [(ngModel)]="model.level" name="level" required>
              <option *ngFor="let n of niveis" [value]="n">{{ n }}</option>
            </select>

          </form>

        </div>

        <div class="modal-footer">
          <button class="btn-secondary" (click)="fecharModal()">Cancelar</button>
          <button class="btn-primary" (click)="salvar()">Salvar</button>
        </div>

      </div>
    </div>
  </div>

</div>
