<div class="premios-container">

  <!-- Cabeçalho -->
  <div class="header">
    <h2 class="title">
      <i class="bi bi-award-fill"></i> Gestão de Prêmios
    </h2>

    <button class="btn btn-primary btn-lg" data-bs-toggle="modal" data-bs-target="#modalPremio"
            (click)="abrirNovo()">
      <i class="bi bi-plus-lg"></i> Cadastrar Prêmio
    </button>
  </div>

  <!-- Grid de cartões -->
  <div class="premios-grid">
    <div class="premio-card" *ngFor="let p of premios">
      
      <div class="icone-wrapper" [class.destaque]="p.destaque">
        <i [class]="'bi ' + p.icone"></i>
      </div>

      <h4>{{ p.titulo }}</h4>

      <p class="descricao">{{ p.descricao }}</p>

      <div class="pontos">
        <i class="bi bi-coin"></i> {{ p.pontos }}
      </div>

      <div class="acoes">
        <button class="btn btn-outline-primary btn-sm"
                data-bs-toggle="modal" data-bs-target="#modalPremio"
                (click)="editarPremio(p)">
          <i class="bi bi-pencil-square"></i>
        </button>

        <button class="btn btn-outline-danger btn-sm"
                (click)="removerPremio(p)">
          <i class="bi bi-trash3"></i>
        </button>
      </div>

      <div *ngIf="p.destaque" class="badge-destaque">
        <i class="bi bi-star-fill"></i> Destaque
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="modalPremio" tabindex="-1">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title">
          {{ editMode ? 'Editar Prêmio' : 'Cadastrar Prêmio' }}
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <form [formGroup]="form" (ngSubmit)="salvar()" class="modal-body">

        <div class="row g-3">

          <div class="col-12">
            <label class="form-label">Título</label>
            <input type="text" formControlName="titulo" class="form-control">
          </div>

          <div class="col-12">
            <label class="form-label">Descrição</label>
            <textarea formControlName="descricao" class="form-control" rows="3"></textarea>
          </div>

          <div class="col-md-4">
            <label class="form-label">Pontos</label>
            <input type="number" formControlName="pontos" class="form-control">
          </div>

          <div class="col-md-4">
            <label class="form-label">Ícone</label>
            <select class="form-select" formControlName="icone">
              <option *ngFor="let icon of iconesDisponiveis" [value]="icon">
                {{ icon }}
              </option>
            </select>
          </div>

          <div class="col-md-4 d-flex align-items-end">
            <div class="form-check">
              <input type="checkbox" formControlName="destaque" class="form-check-input">
              <label class="form-check-label">Destaque</label>
            </div>
          </div>

        </div>

        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button class="btn btn-success" type="submit" data-bs-dismiss="modal">Salvar</button>
        </div>

      </form>

    </div>
  </div>
</div>
