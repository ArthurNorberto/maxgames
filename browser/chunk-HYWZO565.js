import{a as w}from"./chunk-KSIHQLWH.js";import{Ab as x,Bb as _,Cb as C,Ga as i,Pa as O,T as d,U as p,Ua as z,Ya as g,a as h,b as M,db as u,eb as r,ec as P,fb as o,fc as q,lc as k,mb as v,ob as m,qb as l,xb as b,zb as c}from"./chunk-D5XL275M.js";function y(a,e){if(a&1){let t=v();r(0,"button",26),m("click",function(){let s=d(t).$implicit,f=l(3);return p(f.chooseOption(s))}),c(1),o()}if(a&2){let t=e.$implicit,n=e.index,s=l(3);u("disabled",s.optionDisabled),i(),C(" ",s.letters[n],") ",t," ")}}function D(a,e){if(a&1&&(r(0,"div",27),c(1),o()),a&2){let t=l(3);i(),_(" \u{1F4A1} Dica: ",t.hintText," ")}}function T(a,e){if(a&1&&(r(0,"div",19)(1,"div",20),c(2),r(3,"span",21),c(4),o()(),r(5,"div",22),c(6),o(),r(7,"div",23),g(8,y,2,3,"button",24),o(),g(9,D,2,1,"div",25),o()),a&2){let t=l(2);i(2),C(" Pergunta ",t.currentQuestionIndex+1," / ",t.questions.length," "),i(2),x(t.currentQuestion==null?null:t.currentQuestion.level),i(2),_(" ",t.currentQuestion==null?null:t.currentQuestion.question," "),i(2),u("ngForOf",t.currentQuestion==null?null:t.currentQuestion.options),i(),u("ngIf",t.hintText)}}function I(a,e){if(a&1){let t=v();r(0,"div",28)(1,"h3",29),c(2),o(),r(3,"button",30),m("click",function(){d(t);let s=l(2);return p(s.newGame())}),c(4," \u{1F501} Jogar Novamente "),o()()}if(a&2){let t=l(2);i(2),x(t.endMessage)}}function E(a,e){if(a&1){let t=v();r(0,"div",9)(1,"div",10)(2,"div",11),c(3," \u{1F9E0} Pontos: "),r(4,"strong"),c(5),o()(),r(6,"div",12)(7,"button",13),m("click",function(){d(t);let s=l();return p(s.useHelp("skip"))}),c(8),o(),r(9,"button",14),m("click",function(){d(t);let s=l();return p(s.useHelp("removeTwo"))}),c(10),o(),r(11,"button",15),m("click",function(){d(t);let s=l();return p(s.useHelp("hint"))}),c(12),o(),r(13,"button",16),m("click",function(){d(t);let s=l();return p(s.newGame())}),c(14," \u{1F501} Novo Jogo "),o()()(),g(15,T,10,6,"div",17)(16,I,5,1,"div",18),o()}if(a&2){let t=l();i(5),x(t.score),i(2),u("disabled",t.helps.skip<=0),i(),_(" \u23ED\uFE0F Pular (",t.helps.skip,") "),i(),u("disabled",t.helps.removeTwo<=0),i(),_(" \u2796 Remover 2 (",t.helps.removeTwo,") "),i(),u("disabled",t.helps.hint<=0),i(),_(" \u{1F4A1} Dica (",t.helps.hint,") "),i(3),u("ngIf",!t.gameOver),i(),u("ngIf",t.gameOver)}}function S(a,e){if(a&1&&(r(0,"li")(1,"strong"),c(2),o(),c(3),o()),a&2){let t=e.$implicit;i(2),x(t.name),i(),_(" \u2014 ",t.score," pts ")}}function F(a,e){if(a&1&&(r(0,"div",9)(1,"div",31)(2,"h4",32),c(3,"\u{1F3C6} Ranking - Top Jogadores"),o(),r(4,"ol",33),g(5,S,4,2,"li",34),o()()()),a&2){let t=l();i(5),u("ngForOf",t.ranking)}}var Q=class a{constructor(e){this.questionService=e;this.prepareQuestions(),this.loadQuestion()}score=0;currentQuestionIndex=0;helps={skip:1,removeTwo:1,hint:1};questions=[];usedQuestions=new Set;currentQuestion=null;optionDisabled=!1;hintText="";gameOver=!1;endMessage="";letters=["A","B","C","D"];activeTab="quiz";ranking=[]=[{name:"Ana Silva",score:120},{name:"Bruno Souza",score:110}];levelPoints={F\u00E1cil:5,M\u00E9dio:10,Dif\u00EDcil:15,"Muito Dif\xEDcil":25,Especialista:50};shuffle(e){return e.map(t=>[Math.random(),t]).sort((t,n)=>t[0]-n[0]).map(t=>t[1])}setActiveTab(e){this.activeTab=e}prepareQuestions(){let e=this.questionService.getQuestions(),t={F\u00E1cil:this.shuffle(e.filter(n=>n.level==="F\xE1cil")).slice(0,5),M\u00E9dio:this.shuffle(e.filter(n=>n.level==="M\xE9dio")).slice(0,5),Dif\u00EDcil:this.shuffle(e.filter(n=>n.level==="Dif\xEDcil")).slice(0,5),"Muito Dif\xEDcil":this.shuffle(e.filter(n=>n.level==="Muito Dif\xEDcil")).slice(0,5),Especialista:this.shuffle(e.filter(n=>n.level==="Especialista")).slice(0,5)};this.questions=[...t.F\u00E1cil,...t.M\u00E9dio,...t.Dif\u00EDcil,...t["Muito Dif\xEDcil"],...t.Especialista].map(n=>M(h({},n),{options:this.shuffle(n.options)}))}loadQuestion(){this.hintText="",this.optionDisabled=!1,this.currentQuestion=this.questions[this.currentQuestionIndex]}chooseOption(e){this.optionDisabled=!0;let t=this.currentQuestion;e===t.answer?(this.score+=this.levelPoints[t.level]??0,this.currentQuestionIndex++,this.currentQuestionIndex>=this.questions.length?this.endGame(`\u{1F389} Parab\xE9ns! Voc\xEA completou o quiz com ${this.score} pontos!`):setTimeout(()=>this.loadQuestion(),700)):this.endGame(`\u274C Resposta errada! Voc\xEA terminou com ${this.score} pontos.`)}useHelp(e){if(this.helps[e]<=0||!this.currentQuestion)return;this.helps[e]--;let t=this.currentQuestion;if(e==="skip"&&(this.currentQuestionIndex++,this.currentQuestionIndex>=this.questions.length?this.endGame(`\u{1F389} Voc\xEA concluiu com ${this.score} pontos!`):this.loadQuestion()),e==="removeTwo"){let n=t.options.filter(f=>f!==t.answer),s=this.shuffle(n).slice(0,2);t.options=t.options.filter(f=>!s.includes(f))}e==="hint"&&t.hint&&(this.hintText=t.hint)}newGame(){this.score=0,this.currentQuestionIndex=0,this.helps={skip:1,removeTwo:1,hint:1},this.usedQuestions.clear(),this.gameOver=!1,this.prepareQuestions(),this.loadQuestion()}endGame(e){this.endMessage=e,this.gameOver=!0}static \u0275fac=function(t){return new(t||a)(O(w))};static \u0275cmp=z({type:a,selectors:[["app-quiz"]],decls:16,vars:6,consts:[[1,"quiz-layout","container-fluid","py-4"],[1,"row","justify-content-center"],[1,"col-12","col-lg-10","text-center","quiz-content"],[1,"mb-2","animate__animated","animate__fadeInDown"],[1,"text-muted","mb-3","animate__animated","animate__fadeInDown"],[1,"nav","nav-tabs","justify-content-center","mb-4","animate__animated","animate__fadeIn"],[1,"nav-item"],[1,"nav-link",3,"click"],["class","tab-content animate__animated animate__fadeInUp",4,"ngIf"],[1,"tab-content","animate__animated","animate__fadeInUp"],[1,"controls","d-flex","justify-content-center","align-items-center","mb-3","flex-wrap"],[1,"score-display","fs-5","mb-2","me-3"],[1,"help-buttons","d-flex","flex-wrap","justify-content-center"],[1,"btn","btn-warning","me-2","mb-2",3,"click","disabled"],[1,"btn","btn-success","me-2","mb-2",3,"click","disabled"],[1,"btn","btn-info","me-2","mb-2",3,"click","disabled"],[1,"btn","btn-danger","mb-2",3,"click"],["class","quiz-box",4,"ngIf"],["class","end-screen",4,"ngIf"],[1,"quiz-box"],[1,"question-number","text-primary","fw-bold","mb-2"],[1,"badge","bg-light","text-dark","ms-2"],[1,"question-text","fs-5","mb-4"],[1,"options","d-flex","flex-column","align-items-center","flex-wrap"],["class","option-btn btn mb-2 px-4 py-2",3,"disabled","click",4,"ngFor","ngForOf"],["class","hint mt-3 alert alert-info py-2 animate__animated animate__fadeIn",4,"ngIf"],[1,"option-btn","btn","mb-2","px-4","py-2",3,"click","disabled"],[1,"hint","mt-3","alert","alert-info","py-2","animate__animated","animate__fadeIn"],[1,"end-screen"],[1,"mb-3","animate__animated","animate__fadeIn"],[1,"btn","btn-primary","mt-2",3,"click"],[1,"rank-box","shadow-sm","p-4","rounded","bg-light","animate__animated","animate__fadeIn"],[1,"mb-3","text-center"],[1,"rank-list","text-start","mb-0"],[4,"ngFor","ngForOf"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4,"\u{1F3AF} Quiz Autoglass"),o(),r(5,"p",4),c(6," Responda corretamente, ganhe pontos e mostre que voc\xEA \xE9 um especialista! "),o(),r(7,"ul",5)(8,"li",6)(9,"button",7),m("click",function(){return n.setActiveTab("quiz")}),c(10," \u{1F3AE} Jogo "),o()(),r(11,"li",6)(12,"button",7),m("click",function(){return n.setActiveTab("ranking")}),c(13," \u{1F3C6} Ranking "),o()()(),g(14,E,17,9,"div",8)(15,F,6,1,"div",8),o()()()),t&2&&(i(9),b("active",n.activeTab==="quiz"),i(3),b("active",n.activeTab==="ranking"),i(2),u("ngIf",n.activeTab==="quiz"),i(),u("ngIf",n.activeTab==="ranking"))},dependencies:[k,P,q],styles:[".quiz-layout[_ngcontent-%COMP%]{background-color:#f4f6f9;color:#0a3d62;min-height:100vh;display:block;padding:40px 0}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;text-align:center}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1e3799;font-weight:700;font-size:2rem}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;font-size:1.1rem}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{justify-content:center;margin-bottom:1.5rem}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:600;color:#1e3799;border:none;border-bottom:2px solid transparent;cursor:pointer;transition:.3s}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#f60;border-bottom:2px solid #ff6600}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0a3d62}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;flex-wrap:wrap;margin-bottom:1rem}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-weight:600;border-radius:8px;transition:.25s}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px)}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .quiz-box[_ngcontent-%COMP%], .quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .end-screen[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;box-shadow:0 4px 12px #0000001a;margin-bottom:20px}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .question-number[_ngcontent-%COMP%]{font-weight:600;color:#1e3799;margin-bottom:15px}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .question-text[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:500;margin-bottom:25px}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;gap:15px}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .option-btn[_ngcontent-%COMP%]{background-color:#1e3799;color:#fff;border:none;border-radius:8px;padding:12px 24px;min-width:200px;font-weight:500;transition:.25s}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .option-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0a3d62}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{margin-top:15px;color:#e67e22;font-style:italic}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .rank-box[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:30px;box-shadow:0 4px 12px #0000001a}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .rank-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#1e3799;font-weight:700;margin-bottom:1rem}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .rank-box[_ngcontent-%COMP%]   .rank-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:8px;color:#333}.quiz-layout[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]   .rank-box[_ngcontent-%COMP%]   .rank-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(-n+3){color:#f60;font-weight:600}"]})};export{Q as QuizComponent};
