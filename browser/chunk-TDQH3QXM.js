import{a as T}from"./chunk-BORDRY4T.js";import{b as S,d as P,e as E,f as O,g as V,h as k,q as N,r as F,t as L}from"./chunk-5VMU7HGZ.js";import{Ab as g,Db as f,Eb as _,Fb as b,Ga as d,Pa as h,T as p,U as u,Ua as v,Ya as C,db as w,eb as e,ec as A,fb as i,gb as x,lc as M,mb as y,ob as m,qb as c,zb as a}from"./chunk-D5XL275M.js";function W(s,t){if(s&1){let n=y();e(0,"tr")(1,"td"),a(2),i(),e(3,"td",8)(4,"button",23),m("click",function(){let l=p(n).$implicit,r=c();return u(r.editar(l))}),a(5,"Editar"),i(),e(6,"button",24),m("click",function(){let l=p(n).$implicit,r=c();return u(r.remover(l))}),a(7,"Excluir"),i()()()}if(s&2){let n=t.$implicit;d(2),g(n)}}var I=class s{constructor(t){this.autoService=t}filtro="";todas=[];filtrados=[];model="";editando=!1;originalValue="";modal;ngOnInit(){this.todas=[...this.autoService.words],this.filtrados=[...this.todas];let t=document.getElementById("modalPalavra");this.modal=new bootstrap.Modal(t)}atualizarLista(){let t=this.filtro.trim().toLowerCase();this.filtrados=t?this.todas.filter(n=>n.toLowerCase().includes(t)):[...this.todas]}novaPalavra(){this.editando=!1,this.model="",this.modal.show()}editar(t){this.editando=!0,this.model=t,this.originalValue=t,this.modal.show()}remover(t){confirm(`Excluir a palavra "${t}"?`)&&(this.todas=this.todas.filter(n=>n!==t),this.atualizarLista())}salvar(){let t=this.model.trim().toUpperCase();if(t){if(this.editando){let n=this.todas.indexOf(this.originalValue);n>=0&&(this.todas[n]=t)}else this.todas.push(t);this.modal.hide(),this.atualizarLista()}}static \u0275fac=function(n){return new(n||s)(h(T))};static \u0275cmp=v({type:s,selectors:[["app-autowordle-admin"]],decls:36,vars:4,consts:[[1,"admin-container"],[1,"page-title"],[1,"page-subtitle"],[1,"admin-actions"],[1,"btn","btn-primary",3,"click"],["type","text","placeholder","Pesquisar palavra...",1,"form-control","search-box",3,"ngModelChange","input","ngModel"],[1,"table-wrapper"],[1,"table","admin-table"],[1,"col-actions"],[4,"ngFor","ngForOf"],["id","modalPalavra","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[3,"ngSubmit"],[1,"modal-body"],[1,"form-label","fw-bold"],["type","text","name","palavra","required","","maxlength","12",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(n,o){n&1&&(e(0,"div",0)(1,"h2",1),a(2,"Configurar \u2013 AutoWordle"),i(),e(3,"p",2),a(4,"Gerencie as palavras usadas para gerar partidas aleat\xF3rias."),i(),e(5,"div",3)(6,"button",4),m("click",function(){return o.novaPalavra()}),a(7," + Adicionar Palavra "),i(),e(8,"input",5),b("ngModelChange",function(r){return _(o.filtro,r)||(o.filtro=r),r}),m("input",function(){return o.atualizarLista()}),i()(),e(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),a(14,"Palavra"),i(),e(15,"th",8),a(16,"A\xE7\xF5es"),i()()(),e(17,"tbody"),C(18,W,8,1,"tr",9),i()()(),e(19,"div",10)(20,"div",11)(21,"div",12)(22,"div",13)(23,"h5",14),a(24),i(),x(25,"button",15),i(),e(26,"form",16),m("ngSubmit",function(){return o.salvar()}),e(27,"div",17)(28,"label",18),a(29,"Palavra:"),i(),e(30,"input",19),b("ngModelChange",function(r){return _(o.model,r)||(o.model=r),r}),i()(),e(31,"div",20)(32,"button",21),a(33,"Salvar"),i(),e(34,"button",22),a(35,"Cancelar"),i()()()()()()()),n&2&&(d(8),f("ngModel",o.filtro),d(10),w("ngForOf",o.filtrados),d(6),g(o.editando?"Editar Palavra":"Nova Palavra"),d(6),f("ngModel",o.model))},dependencies:[M,A,L,k,S,P,E,N,F,V,O],styles:[".admin-container[_ngcontent-%COMP%]{width:100%;padding:20px}.page-title[_ngcontent-%COMP%]{margin-bottom:5px}.page-subtitle[_ngcontent-%COMP%]{opacity:.7;margin-bottom:25px}.admin-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:20px}.admin-actions[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{flex:1}.table-wrapper[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;background:#fff;box-shadow:0 2px 6px #0000001a}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#efefef;padding:10px}.admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px}.col-actions[_ngcontent-%COMP%]{width:160px;text-align:right}"]})};export{I as AutowordleAdminComponent};
