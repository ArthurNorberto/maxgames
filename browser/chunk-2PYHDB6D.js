import{a as F}from"./chunk-VLWRN3QG.js";import{b as w,d as E,e as O,f as A,g as I,h as k,q as V,t as N}from"./chunk-5VMU7HGZ.js";import{Ab as g,Db as f,Eb as _,Fb as b,Ga as m,Pa as h,T as c,U as p,Ua as v,Ya as M,db as C,eb as e,ec as S,fb as i,gb as x,lc as P,mb as y,ob as d,qb as u,zb as o}from"./chunk-D5XL275M.js";function L(s,t){if(s&1){let n=y();e(0,"tr")(1,"td"),o(2),i(),e(3,"td",8)(4,"button",23),d("click",function(){let l=c(n).$implicit,r=u();return p(r.editar(l))}),o(5,"Editar"),i(),e(6,"button",24),d("click",function(){let l=c(n).$implicit,r=u();return p(r.remover(l))}),o(7,"Excluir"),i()()()}if(s&2){let n=t.$implicit;m(2),g(n)}}var T=class s{constructor(t){this.memoriaService=t}filtro="";todas=[];filtrados=[];model="";editando=!1;originalValue="";modalInstance;ngOnInit(){this.todas=[...this.memoriaService.todasPalavras],this.filtrados=[...this.todas];let t=document.getElementById("modalPalavra");this.modalInstance=new bootstrap.Modal(t,{backdrop:"static"})}atualizarLista(){if(!this.filtro.trim()){this.filtrados=[...this.todas];return}let t=this.filtro.toLowerCase();this.filtrados=this.todas.filter(n=>n.toLowerCase().includes(t))}novaPalavra(){this.editando=!1,this.model="",this.modalInstance.show()}editar(t){this.editando=!0,this.model=t,this.originalValue=t,this.modalInstance.show()}remover(t){confirm(`Excluir a palavra "${t}"?`)&&(this.todas=this.todas.filter(n=>n!==t),this.atualizarLista())}salvar(){if(this.model.trim()){if(this.editando){let t=this.todas.indexOf(this.originalValue);t>=0&&(this.todas[t]=this.model)}else this.todas.push(this.model);this.modalInstance.hide(),this.atualizarLista()}}static \u0275fac=function(n){return new(n||s)(h(F))};static \u0275cmp=v({type:s,selectors:[["app-memoria-admin"]],decls:36,vars:4,consts:[[1,"admin-container"],[1,"page-title"],[1,"page-subtitle"],[1,"admin-actions"],[1,"btn","btn-primary",3,"click"],["type","text","placeholder","Pesquisar palavra...",1,"form-control","search-box",3,"ngModelChange","input","ngModel"],[1,"table-wrapper"],[1,"table","admin-table"],[1,"col-actions"],[4,"ngFor","ngForOf"],["id","modalPalavra","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[3,"ngSubmit"],[1,"modal-body"],[1,"form-label","fw-bold"],["type","text","name","palavra","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(n,a){n&1&&(e(0,"div",0)(1,"h2",1),o(2,"Configurar \u2013 Jogo da Mem\xF3ria"),i(),e(3,"p",2),o(4,"Gerencie as palavras que aparecer\xE3o no jogo."),i(),e(5,"div",3)(6,"button",4),d("click",function(){return a.novaPalavra()}),o(7," + Adicionar Palavra "),i(),e(8,"input",5),b("ngModelChange",function(r){return _(a.filtro,r)||(a.filtro=r),r}),d("input",function(){return a.atualizarLista()}),i()(),e(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th"),o(14,"Palavra"),i(),e(15,"th",8),o(16,"A\xE7\xF5es"),i()()(),e(17,"tbody"),M(18,L,8,1,"tr",9),i()()(),e(19,"div",10)(20,"div",11)(21,"div",12)(22,"div",13)(23,"h5",14),o(24),i(),x(25,"button",15),i(),e(26,"form",16),d("ngSubmit",function(){return a.salvar()}),e(27,"div",17)(28,"label",18),o(29,"Palavra:"),i(),e(30,"input",19),b("ngModelChange",function(r){return _(a.model,r)||(a.model=r),r}),i()(),e(31,"div",20)(32,"button",21),o(33,"Salvar"),i(),e(34,"button",22),o(35,"Cancelar"),i()()()()()()()),n&2&&(m(8),f("ngModel",a.filtro),m(10),C("ngForOf",a.filtrados),m(6),g(a.editando?"Editar Palavra":"Nova Palavra"),m(6),f("ngModel",a.model))},dependencies:[P,S,N,k,w,E,O,V,I,A],styles:[".admin-container[_ngcontent-%COMP%]{width:100%;padding:20px}.page-title[_ngcontent-%COMP%]{margin-bottom:5px}.page-subtitle[_ngcontent-%COMP%]{opacity:.7;margin-bottom:25px}.admin-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:20px}.admin-actions[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{flex:1}.table-wrapper[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;background:#fff;box-shadow:0 2px 6px #0000001a}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#efefef;padding:10px}.admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px}.col-actions[_ngcontent-%COMP%]{width:160px;text-align:right}"]})};export{T as MemoriaAdminComponent};
