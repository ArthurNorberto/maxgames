import{a as H}from"./chunk-6OVIINUV.js";import{h as A}from"./chunk-TY3XJY7P.js";import"./chunk-5BLSFZMB.js";import{b as D,d as V,g as L,t as j}from"./chunk-5VMU7HGZ.js";import{Ab as f,Bb as _,Db as E,Ea as C,Eb as F,Fb as S,Ga as a,Pa as b,T as p,U as g,Ua as w,Ya as h,db as l,eb as r,ec as R,fb as o,fc as I,gb as P,kb as O,lb as M,lc as W,mb as x,ob as m,qb as d,sb as k,tb as y,ub as T,xb as v,zb as s}from"./chunk-D5XL275M.js";var N=["hangmanCanvas"];function G(c,t){if(c&1&&(r(0,"div",30)(1,"span",31),s(2),o()()),c&2){let e=d(2);a(2),_("Pontos: ",e.lastPoints)}}function U(c,t){if(c&1&&(O(0),r(1,"span",32),s(2),o(),M()),c&2){let e=t.$implicit;a(),v("filled",e!==""),a(),f(e||"_")}}function $(c,t){if(c&1){let e=x();r(0,"button",33),m("click",function(){let i=p(e).$implicit,u=d(2);return g(u.tryLetter(i))}),s(1),o()}if(c&2){let e=t.$implicit,n=d(2);l("disabled",n.usedLetters.has(e)||n.gameOver),a(),_(" ",e," ")}}function z(c,t){if(c&1){let e=x();r(0,"div",13)(1,"div",14)(2,"div",15),P(3,"canvas",16,0),r(5,"div",17),s(6," Erros: "),r(7,"strong",18),s(8),o(),s(9),r(10,"strong"),s(11),o()(),h(12,G,3,1,"div",19),o(),r(13,"div",20)(14,"div",21),h(15,U,3,3,"ng-container",22),o(),r(16,"div",23),h(17,$,2,2,"button",24),o(),r(18,"div",25)(19,"input",26),S("ngModelChange",function(i){p(e);let u=d();return F(u.guessWord,i)||(u.guessWord=i),g(i)}),m("keyup.enter",function(){p(e);let i=d();return g(i.submitWord())}),o(),r(20,"button",27),m("click",function(){p(e);let i=d();return g(i.submitWord())}),s(21,"Chutar"),o()(),r(22,"div",25)(23,"button",28),m("click",function(){p(e);let i=d();return g(i.giveUp())}),s(24,"Desistir"),o(),r(25,"button",29),m("click",function(){p(e);let i=d();return g(i.nextRound())}),s(26,"Pr\xF3xima"),o()()()()()}if(c&2){let e=d();a(8),f(e.wrongParts),a(),_(" / ",e.maxParts," \xA0|\xA0 Tempo: "),a(2),_("",e.timeRemaining,"s"),a(),l("ngIf",e.lastPoints!==null),a(3),l("ngForOf",e.displayLetters),a(2),l("ngForOf",e.alphabet),a(2),E("ngModel",e.guessWord),l("disabled",e.gameOver),a(),l("disabled",e.gameOver),a(3),l("disabled",e.gameOver),a(2),l("disabled",!e.gameOver)}}function Q(c,t){if(c&1&&(r(0,"li"),s(1),r(2,"strong"),s(3),o(),s(4),o()),c&2){let e=t.$implicit,n=t.index;a(),_(" ",n+1,"\xBA \u2014 "),a(2),f(e.name),a(),_(": ",e.score," pts ")}}function J(c,t){if(c&1&&(r(0,"div",34)(1,"h6",35),s(2,"\u{1F3C6} Ranking"),o(),r(3,"ul",36),h(4,Q,5,3,"li",22),o()()),c&2){let e=d();a(4),l("ngForOf",e.fakeRanking)}}function K(c,t){if(c&1&&(r(0,"div",37)(1,"h6",35),s(2,"\u{1F4CA} Estat\xEDsticas"),o(),r(3,"p",38),s(4,"Acertos: "),r(5,"strong"),s(6),o()(),r(7,"p",38),s(8,"Erros: "),r(9,"strong"),s(10),o()(),r(11,"p",38),s(12,"Pontua\xE7\xE3o Total: "),r(13,"strong"),s(14),o()()()),c&2){let e=d();a(6),f(e.hits),a(4),f(e.wrongParts),a(4),f(e.score)}}var B=class c{constructor(t,e){this.toastr=t;this.forcaService=e}canvasRef;alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");usedLetters=new Set;usedLettersList=[];secretWord="";displayLetters=[];activeTab="jogo";wrongParts=0;maxParts=6;gameOver=!1;timeRemaining=20;totalTime=20;timerHandle=null;guessWord="";lastPoints=null;fakeRanking=[{name:"Jo\xE3o",score:120},{name:"Maria",score:110},{name:"Carlos",score:90},{name:"Ana",score:80},{name:"Voc\xEA",score:0}];hits=0;score=0;ctx;ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.setupCanvas(),this.newGame()})}ngOnDestroy(){this.clearTimer()}setActiveTab(t){this.activeTab=t,t==="jogo"&&setTimeout(()=>{this.setupCanvas(),this.drawBase(),this.wrongParts>0&&this.drawExistingParts()})}drawExistingParts(){for(let t=1;t<=this.wrongParts;t++)this.drawPart(t)}onKeyPress(t){let e=t.key.toUpperCase();this.gameOver||(e.length===1&&/[A-ZÃ‡]/.test(e)?this.tryLetter(e):e==="ENTER"&&this.submitWord())}newGame(){this.secretWord=this.forcaService.getRandomWord(),this.displayLetters=Array(this.secretWord.length).fill(""),this.usedLetters.clear(),this.wrongParts=0,this.gameOver=!1,this.lastPoints=null,this.clearCanvas(),this.drawBase(),this.startTimer(),this.toastr.info("Novo jogo iniciado!")}tryLetter(t){this.gameOver||this.usedLetters.has(t)||(this.timeRemaining=this.totalTime,this.usedLetters.add(t),this.secretWord.includes(t)?(this.secretWord.split("").forEach((e,n)=>{e===t&&(this.displayLetters[n]=e)}),this.displayLetters.every(e=>e!=="")&&this.win()):this.registerWrong())}submitWord(){this.gameOver||(this.guessWord.trim().toUpperCase()===this.secretWord?this.win():this.registerWrong(),this.guessWord="")}giveUp(){this.gameOver||(this.reveal(),this.endGame(),this.toastr.info("Voc\xEA desistiu!"))}nextRound(){this.gameOver&&this.newGame()}registerWrong(){this.wrongParts++,this.drawPart(this.wrongParts),this.wrongParts>=this.maxParts&&this.lose()}win(){this.lastPoints=this.calculatePoints(),this.toastr.success(`Voc\xEA venceu! ${this.lastPoints} pontos`),this.updateFakeRanking(),this.celebrate(),this.endGame()}lose(){this.reveal(),this.toastr.error(`Voc\xEA perdeu! A palavra era ${this.secretWord}`),this.fadeRed(),this.endGame()}reveal(){this.displayLetters=this.secretWord.split("")}calculatePoints(){let e=this.wrongParts*10,n=this.displayLetters.every(i=>i!=="")?20:0;return Math.max(0,100-e+n)}updateFakeRanking(){this.fakeRanking[this.fakeRanking.length-1].score=this.lastPoints??0,this.fakeRanking.sort((t,e)=>e.score-t.score)}endGame(){this.gameOver=!0,this.clearTimer()}startTimer(){this.clearTimer(),this.timeRemaining=this.totalTime,this.timerHandle=setInterval(()=>{if(this.gameOver){this.clearTimer();return}this.timeRemaining--,this.timeRemaining<=0&&(this.registerWrong(),this.timeRemaining=this.totalTime)},1e3)}clearTimer(){this.timerHandle&&(clearInterval(this.timerHandle),this.timerHandle=null)}setupCanvas(){let t=this.canvasRef.nativeElement;this.ctx=t.getContext("2d");let e=window.devicePixelRatio||1,n=t.width,i=t.height;t.width=n*e,t.height=i*e,this.ctx.scale(e,e),this.ctx.lineWidth=4,this.ctx.strokeStyle="#2c3e50",this.ctx.lineCap="round"}clearCanvas(){let t=this.canvasRef.nativeElement;this.ctx.clearRect(0,0,t.width,t.height)}drawBase(){let t=this.ctx;t.beginPath(),t.moveTo(40,300),t.lineTo(300,300),t.stroke(),t.beginPath(),t.moveTo(80,300),t.lineTo(80,60),t.lineTo(220,60),t.lineTo(220,100),t.stroke()}drawPart(t){let e=this.ctx;switch(e.strokeStyle="#b23b3b",t){case 1:this.circle(220,120,20);break;case 2:this.line(220,140,220,200);break;case 3:this.line(220,150,190,180);break;case 4:this.line(220,150,250,180);break;case 5:this.line(220,200,195,240);break;case 6:this.line(220,200,245,240);break}}line(t,e,n,i){this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(n,i),this.ctx.stroke()}circle(t,e,n){this.ctx.beginPath(),this.ctx.arc(t,e,n,0,Math.PI*2),this.ctx.stroke()}celebrate(){let t=this.ctx,e=this.canvasRef.nativeElement,n=0,i=()=>{n+=.02,t.fillStyle=`rgba(0,200,83,${Math.min(n,.3)})`,t.fillRect(0,0,e.width/(window.devicePixelRatio||1),e.height/(window.devicePixelRatio||1)),n<.3&&requestAnimationFrame(i)};i()}fadeRed(){let t=this.ctx,e=this.canvasRef.nativeElement,n=0,i=()=>{n+=.03,t.fillStyle=`rgba(178,59,59,${Math.min(n,.35)})`,t.fillRect(0,0,e.width/(window.devicePixelRatio||1),e.height/(window.devicePixelRatio||1)),n<.35&&requestAnimationFrame(i)};i()}static \u0275fac=function(e){return new(e||c)(b(A),b(H))};static \u0275cmp=w({type:c,selectors:[["app-forca"]],viewQuery:function(e,n){if(e&1&&k(N,5),e&2){let i;y(i=T())&&(n.canvasRef=i.first)}},hostBindings:function(e,n){e&1&&m("keydown",function(u){return n.onKeyPress(u)},C)},decls:24,vars:9,consts:[["hangmanCanvas",""],[1,"forca-wrapper","container","py-4"],[1,"card","shadow-lg","border-0"],[1,"card-body","p-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted","small","mb-0"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"nav","nav-tabs","mb-3","justify-content-center"],[1,"nav-item"],[1,"nav-link",3,"click"],["class","animate__animated animate__fadeIn",4,"ngIf"],["class","rank-pane animate__animated animate__fadeIn",4,"ngIf"],["class","stats-pane animate__animated animate__fadeIn",4,"ngIf"],[1,"animate__animated","animate__fadeIn"],[1,"row","justify-content-center","align-items-start"],[1,"col-lg-5","mb-3","text-center"],["width","360","height","320",1,"w-100","rounded","bg-white","border"],[1,"mt-3","small","text-muted"],[1,"text-danger"],["class","mt-2",4,"ngIf"],[1,"col-lg-7","text-center"],[1,"word-display","mb-3"],[4,"ngFor","ngForOf"],[1,"keyboard","mb-3","d-flex","flex-wrap","gap-2","justify-content-center"],["class","btn btn-sm btn-outline-secondary",3,"disabled","click",4,"ngFor","ngForOf"],[1,"mb-3"],["placeholder","Chutar palavra inteira...",1,"form-control","d-inline","w-auto","me-2",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-outline-danger","me-2",3,"click","disabled"],[1,"btn","btn-success",3,"click","disabled"],[1,"mt-2"],[1,"badge","bg-success"],[1,"letter-box"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],[1,"rank-pane","animate__animated","animate__fadeIn"],[1,"text-center","text-muted","mb-3"],[1,"list-unstyled","text-center"],[1,"stats-pane","animate__animated","animate__fadeIn"],[1,"text-center"]],template:function(e,n){e&1&&(r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div")(5,"h3"),s(6,"Forca \u2014 Autoglass Edition"),o(),r(7,"p",5),s(8," Adivinhe a palavra antes do boneco ser enforcado. "),o()(),r(9,"button",6),m("click",function(){return n.newGame()}),s(10,"\u2B6E Novo Jogo"),o()(),r(11,"ul",7)(12,"li",8)(13,"button",9),m("click",function(){return n.setActiveTab("jogo")}),s(14,"\u{1F3AE} Jogo"),o()(),r(15,"li",8)(16,"button",9),m("click",function(){return n.setActiveTab("rank")}),s(17,"\u{1F3C6} Ranking"),o()(),r(18,"li",8)(19,"button",9),m("click",function(){return n.setActiveTab("stats")}),s(20,"\u{1F4CA} Estat\xEDsticas"),o()()(),h(21,z,27,11,"div",10)(22,J,5,1,"div",11)(23,K,15,3,"div",12),o()()()),e&2&&(a(13),v("active",n.activeTab==="jogo"),a(3),v("active",n.activeTab==="rank"),a(3),v("active",n.activeTab==="stats"),a(2),l("ngIf",n.activeTab==="jogo"),a(),l("ngIf",n.activeTab==="rank"),a(),l("ngIf",n.activeTab==="stats"))},dependencies:[W,R,I,j,D,V,L],styles:['@charset "UTF-8";.forca-wrapper[_ngcontent-%COMP%]{background:#f8fafc;min-height:100vh;display:flex;justify-content:center;padding:2rem}.forca-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;max-width:960px;border-radius:1rem;overflow:hidden;background:#fff;box-shadow:0 6px 16px #00000014;border:none;animation:_ngcontent-%COMP%_fadeIn .4s ease}.forca-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fff,#f4f8fb);border-radius:1rem}.forca-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;color:#0077c8;display:flex;align-items:center;gap:.4rem}.forca-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:after{content:"\\1f697";font-size:1.2rem}.forca-wrapper[_ngcontent-%COMP%]   p.text-muted[_ngcontent-%COMP%]{color:#6c757d!important}.forca-wrapper[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{justify-content:center}.forca-wrapper[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:none;padding:.5rem 1.2rem;margin:0 .2rem;color:#0077c8;font-weight:600;border-radius:8px;transition:.25s}.forca-wrapper[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:#0077c8;color:#fff;box-shadow:0 4px 12px #00000026}.forca-wrapper[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover:not(.active){background:#e6f3ff}.forca-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fff,#f1f7fb);border:2px solid #e2e6ea;border-radius:10px;box-shadow:inset 0 0 5px #0000000d}.forca-wrapper[_ngcontent-%COMP%]   .word-display[_ngcontent-%COMP%]{background:#fff;border:2px solid #e2e6ea;border-radius:10px;padding:1rem;display:inline-block;box-shadow:0 2px 6px #0000000a}.forca-wrapper[_ngcontent-%COMP%]   .word-display[_ngcontent-%COMP%]   .letter-box[_ngcontent-%COMP%]{display:inline-block;width:36px;height:46px;font-size:1.6rem;font-weight:700;border-bottom:3px solid #0077c8;text-align:center;margin:0 5px;color:#333;transition:.2s ease}.forca-wrapper[_ngcontent-%COMP%]   .word-display[_ngcontent-%COMP%]   .letter-box.filled[_ngcontent-%COMP%]{color:#0077c8;border-color:#28a745;transform:scale(1.05)}.forca-wrapper[_ngcontent-%COMP%]   .keyboard[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:6px;font-weight:600;letter-spacing:.5px;color:#333;border:1px solid #d0d7de;background:#fff;transition:.2s}.forca-wrapper[_ngcontent-%COMP%]   .keyboard[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#0077c8;color:#fff;border-color:#0077c8}.forca-wrapper[_ngcontent-%COMP%]   .keyboard[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background:#e9ecef}.forca-wrapper[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{border-color:#0077c8;color:#0077c8;font-weight:600}.forca-wrapper[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background:#0077c8;color:#fff;box-shadow:0 0 6px #0077c866}.forca-wrapper[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]{border-color:#dc3545;color:#dc3545;font-weight:600}.forca-wrapper[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff}.forca-wrapper[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{background:#28a745;border:none;font-weight:600}.forca-wrapper[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:hover{background:#218838}.forca-wrapper[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#0077c8;border:none;font-weight:600}.forca-wrapper[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#005fa3}.forca-wrapper[_ngcontent-%COMP%]   .rank-pane[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;text-align:center}.forca-wrapper[_ngcontent-%COMP%]   .rank-pane[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.4rem auto;padding:.4rem .6rem;max-width:300px;border-radius:6px;background:#f1f7fb;font-size:.95rem;transition:.25s}.forca-wrapper[_ngcontent-%COMP%]   .rank-pane[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){background:#e6f3ff;font-weight:700;color:#0077c8}.forca-wrapper[_ngcontent-%COMP%]   .rank-pane[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 6px #00000014}.forca-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #dee2e6;padding:.4rem .7rem;font-weight:500}.forca-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#0077c8;box-shadow:0 0 4px #0077c84d}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media(max-width:992px){.forca-wrapper[_ngcontent-%COMP%]{padding:1rem}.forca-wrapper[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.forca-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{max-width:100%;height:auto}.forca-wrapper[_ngcontent-%COMP%]   .keyboard[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.85rem;padding:.35rem .6rem}.forca-wrapper[_ngcontent-%COMP%]   .letter-box[_ngcontent-%COMP%]{width:30px;height:40px;font-size:1.3rem}}']})};export{B as ForcaComponent};
