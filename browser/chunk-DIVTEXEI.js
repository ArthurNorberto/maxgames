import{a as S}from"./chunk-VLWRN3QG.js";import{h as I}from"./chunk-TY3XJY7P.js";import"./chunk-5BLSFZMB.js";import{Ab as f,Bb as x,Cb as O,Ga as a,Kb as P,Pa as u,T as C,U as v,Ua as h,Ya as g,db as s,eb as n,ec as b,fb as i,fc as y,gc as w,lc as k,mb as M,ob as l,qb as p,xb as _,zb as o}from"./chunk-D5XL275M.js";var F=r=>({"grid-template-columns":r});function j(r,e){if(r&1){let t=M();n(0,"div",14),l("click",function(){let m=C(t).$implicit,d=p(2);return v(d.flipCard(m))}),n(1,"div",15)(2,"div",16),o(3,"\u{1F697}"),i(),n(4,"div",17),o(5),i()()()}if(r&2){let t=e.$implicit;_("flipped",t.flipped||t.matched),a(5),f(t.value)}}function G(r,e){if(r&1){let t=M();n(0,"div",9)(1,"div",10)(2,"div"),o(3,"Pontua\xE7\xE3o: "),n(4,"strong"),o(5),i()(),n(6,"div"),o(7,"Tempo: "),n(8,"strong"),o(9),i()(),n(10,"div"),o(11,"N\xEDvel: "),n(12,"strong"),o(13),i()(),n(14,"button",11),l("click",function(){C(t);let m=p();return v(m.startNewGame())}),o(15,"\u{1F501} Novo Jogo"),i()(),n(16,"div",12),g(17,j,6,3,"div",13),i()()}if(r&2){let t=p();a(5),f(t.score),a(4),x("",t.timer,"s"),a(4),f(t.currentLevelLabel),a(3),s("ngStyle",P(5,F,"repeat("+t.gridSizes[t.currentGridIndex].cols+", 1fr)")),a(),s("ngForOf",t.cards)}}function N(r,e){if(r&1&&(n(0,"li"),o(1),i()),r&2){let t=e.$implicit;a(),O("",t.name," \u2014 ",t.score," pts")}}function z(r,e){if(r&1&&(n(0,"div",9)(1,"div",18)(2,"h5",19),o(3,"\u{1F3C6} Ranking \u2013 Melhores Jogadores"),i(),n(4,"ol",20),g(5,N,2,2,"li",21),i()()()),r&2){let t=p();a(5),s("ngForOf",t.ranking)}}var T=class r{constructor(e,t){this.toastr=e;this.memoriaService=t}score=0;timer=0;timerInterval=null;currentGridIndex=0;flippedCards=[];matchedCards=0;attempts=0;activeTab="jogo";gridSizes=[{rows:4,cols:4,label:"F\xE1cil"},{rows:6,cols:6,label:"M\xE9dio"},{rows:8,cols:8,label:"Dif\xEDcil"}];ranking=[{name:"Ana Souza",score:3200},{name:"Carlos Lima",score:2900},{name:"Marcos Silva",score:2700},{name:"Fernanda Rocha",score:2500},{name:"Voc\xEA",score:this.score}];cards=[];ngOnInit(){this.startNewGame()}setActiveTab(e){this.activeTab=e}startNewGame(){this.timerInterval&&clearInterval(this.timerInterval),this.score=0,this.timer=0,this.matchedCards=0,this.flippedCards=[],this.attempts=0,this.currentGridIndex=0,this.loadGrid(),this.startTimer(),this.toastr.info("Novo jogo iniciado! N\xEDvel F\xE1cil","\u{1F195} Jogo Reiniciado")}loadGrid(){this.timerInterval&&clearInterval(this.timerInterval),this.timer=0,this.matchedCards=0,this.flippedCards=[],this.attempts=0;let{rows:e,cols:t}=this.gridSizes[this.currentGridIndex],c=e*t/2,m=this.memoriaService.getPalavrasAleatorias(c),d=[...m,...m].sort(()=>Math.random()-.5);this.cards=d.map((D,E)=>({id:E,value:D,flipped:!1,matched:!1})),this.startTimer()}startTimer(){this.timerInterval=setInterval(()=>{this.timer++},1e3)}flipCard(e){e.flipped||e.matched||this.flippedCards.length>=2||(e.flipped=!0,this.flippedCards.push(e),this.flippedCards.length===2&&this.checkMatch())}checkMatch(){let[e,t]=this.flippedCards;if(this.attempts++,e.value===t.value){e.matched=!0,t.matched=!0,this.matchedCards+=2;let c=100,m=Math.max(1,20-this.timer/10),d=Math.max(1,10-this.attempts/2);this.score+=Math.round(c*m/d),this.flippedCards=[],this.matchedCards===this.cards.length&&(clearInterval(this.timerInterval),setTimeout(()=>this.nextLevel(),800))}else setTimeout(()=>{e.flipped=!1,t.flipped=!1,this.flippedCards=[]},800)}nextLevel(){if(this.currentGridIndex++,this.currentGridIndex>=this.gridSizes.length){this.toastr.success(`Pontua\xE7\xE3o final: ${this.score}`,"\u{1F389} Parab\xE9ns! Voc\xEA concluiu todos os n\xEDveis!"),this.currentGridIndex=0,setTimeout(()=>this.startNewGame(),2500);return}let e=this.gridSizes[this.currentGridIndex].label;this.toastr.success(`Avan\xE7ando para o modo ${e}!`,"\u2705 N\xEDvel conclu\xEDdo!"),this.loadGrid()}get currentLevelLabel(){return this.gridSizes[this.currentGridIndex].label}ngOnDestroy(){this.timerInterval&&clearInterval(this.timerInterval)}static \u0275fac=function(t){return new(t||r)(u(I),u(S))};static \u0275cmp=h({type:r,selectors:[["app-memory"]],decls:17,vars:6,consts:[[1,"memory-wrapper","container","py-5"],[1,"row","justify-content-center"],[1,"col-lg-8","col-md-12"],[1,"memory-container"],[1,"subtitle","text-muted","mb-4"],[1,"nav","nav-tabs","justify-content-center","mb-4"],[1,"nav-item"],[1,"nav-link",3,"click"],["class","tab-content animate__animated animate__fadeIn",4,"ngIf"],[1,"tab-content","animate__animated","animate__fadeIn"],[1,"info-bar","d-flex","justify-content-center","gap-3","flex-wrap","mb-4"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"grid","mx-auto",3,"ngStyle"],["class","card",3,"flipped","click",4,"ngFor","ngForOf"],[1,"card",3,"click"],[1,"card-inner"],[1,"card-front"],[1,"card-back"],[1,"ranking-box","mx-auto"],[1,"mb-3","text-center"],[1,"mb-0","text-start"],[4,"ngFor","ngForOf"]],template:function(t,c){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),o(5,"\u{1F9E0} Jogo da Mem\xF3ria"),i(),n(6,"p",4),o(7," Encontre todos os pares de pe\xE7as automotivas! "),i(),n(8,"ul",5)(9,"li",6)(10,"button",7),l("click",function(){return c.setActiveTab("jogo")}),o(11," \u{1F3AE} Jogo "),i()(),n(12,"li",6)(13,"button",7),l("click",function(){return c.setActiveTab("ranking")}),o(14," \u{1F3C6} Ranking "),i()()(),g(15,G,18,7,"div",8)(16,z,6,1,"div",8),i()()()()),t&2&&(a(10),_("active",c.activeTab==="jogo"),a(3),_("active",c.activeTab==="ranking"),a(2),s("ngIf",c.activeTab==="jogo"),a(),s("ngIf",c.activeTab==="ranking"))},dependencies:[k,b,y,w],styles:[".memory-wrapper[_ngcontent-%COMP%]{background:#f0f4f8;color:#036;font-family:Segoe UI,sans-serif;min-height:100vh;padding-top:2rem;padding-bottom:2rem}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;box-shadow:0 4px 10px #0000001a;text-align:center}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#036;margin-bottom:10px}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px;color:#666;margin-bottom:20px}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{justify-content:center;margin-bottom:25px}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:none;border-bottom:2px solid transparent;font-weight:600;color:#036;cursor:pointer;transition:all .3s ease}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border-bottom:2px solid #ffd100;color:#ffd100}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#ffbf00}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .info-bar[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;flex-wrap:wrap;align-items:center;font-size:16px}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .info-bar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#ffd100;color:#036;font-weight:700;border:none;padding:6px 16px;border-radius:8px;box-shadow:0 3px 6px #00000026;transition:all .2s ease-in-out}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .info-bar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#e6be00;transform:translateY(-2px)}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{display:grid;gap:10px;justify-content:center;max-width:600px;margin:0 auto}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{perspective:1000px;cursor:pointer}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{position:relative;width:100%;padding-top:80%;transform-style:preserve-3d;transition:transform .5s ease}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .card.flipped[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-front[_ngcontent-%COMP%], .memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-back[_ngcontent-%COMP%]{position:absolute;inset:0;backface-visibility:hidden;border-radius:8px;display:flex;justify-content:center;align-items:center;font-size:1.2em;font-weight:600;box-shadow:0 1px 3px #00000026}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-front[_ngcontent-%COMP%]{background-color:#036;color:#fff}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-back[_ngcontent-%COMP%]{background-color:#ffd100;color:#036;transform:rotateY(180deg)}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .ranking-box[_ngcontent-%COMP%]{max-width:400px;background:#fff;border-radius:12px;padding:20px;margin:0 auto;box-shadow:0 4px 10px #0000001a}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .ranking-box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:15px}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .ranking-box[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{padding-left:20px}.memory-wrapper[_ngcontent-%COMP%]   .memory-container[_ngcontent-%COMP%]   .ranking-box[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:500;margin-bottom:6px;color:#036}"]})};export{T as MemoriaComponent};
