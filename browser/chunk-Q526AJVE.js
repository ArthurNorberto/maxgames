import{a as R}from"./chunk-Z5F62OCV.js";import{a as w,b as F,c as d,d as N,e as A,h as q,i as D,j as I,k as V,l as T,m as j,n as G,s as z,t as $,u as B}from"./chunk-5VMU7HGZ.js";import{Ab as P,Bb as f,Ga as a,Pa as _,T as g,U as v,Ua as h,Ya as u,a as C,db as s,eb as t,ec as O,fb as e,fc as y,gb as r,lc as k,mb as M,ob as p,qb as x,xb as S,yb as E,zb as o}from"./chunk-D5XL275M.js";function H(m,n){m&1&&(t(0,"div",42),r(1,"i",43),o(2," Destaque "),e())}function J(m,n){if(m&1){let i=M();t(0,"div",31)(1,"div",32),r(2,"i"),e(),t(3,"h4"),o(4),e(),t(5,"p",33),o(6),e(),t(7,"div",34),r(8,"i",35),o(9),e(),t(10,"div",36)(11,"button",37),p("click",function(){let c=g(i).$implicit,b=x();return v(b.editarPremio(c))}),r(12,"i",38),e(),t(13,"button",39),p("click",function(){let c=g(i).$implicit,b=x();return v(b.removerPremio(c))}),r(14,"i",40),e()(),u(15,H,3,0,"div",41),e()}if(m&2){let i=n.$implicit;a(),S("destaque",i.destaque),a(),E("bi "+i.icone),a(2),P(i.titulo),a(2),P(i.descricao),a(3),f(" ",i.pontos," "),a(6),s("ngIf",i.destaque)}}function K(m,n){if(m&1&&(t(0,"option",44),o(1),e()),m&2){let i=n.$implicit;s("value",i),a(),f(" ",i," ")}}var Y=class m{constructor(n,i){this.premiosService=n;this.fb=i}premios=[];form;editMode=!1;selectedPremio=null;iconesDisponiveis=["bi-stars","bi-laptop","bi-person-check","bi-ticket-perforated","bi-cup-hot","bi-gift","bi-car-front-fill","bi-patch-check-fill","bi-wallet2","bi-briefcase-fill","bi-house-door-fill","bi-emoji-smile-fill","bi-gift-fill","bi-star-fill","bi-people-fill","bi-emoji-heart-eyes-fill"];ngOnInit(){this.premios=[...this.premiosService.getPremios()],this.initForm()}initForm(){this.form=this.fb.group({titulo:["",d.required],descricao:["",d.required],pontos:[0,[d.required,d.min(1)]],icone:["",d.required],destaque:[!1]})}abrirNovo(){this.editMode=!1,this.selectedPremio=null,this.form.reset({destaque:!1})}editarPremio(n){this.editMode=!0,this.selectedPremio=n,this.form.patchValue(n)}salvar(){if(!this.form.valid)return;let n=this.form.value;this.editMode&&this.selectedPremio?Object.assign(this.selectedPremio,n):this.premios.push(C({id:Math.max(...this.premios.map(i=>i.id))+1},n))}removerPremio(n){this.premios=this.premios.filter(i=>i.id!==n.id)}static \u0275fac=function(i){return new(i||m)(_(R),_(z))};static \u0275cmp=h({type:m,selectors:[["app-premios-admin"]],decls:46,vars:4,consts:[[1,"premios-container"],[1,"header"],[1,"title"],[1,"bi","bi-award-fill"],["data-bs-toggle","modal","data-bs-target","#modalPremio",1,"btn","btn-primary","btn-lg",3,"click"],[1,"bi","bi-plus-lg"],[1,"premios-grid"],["class","premio-card",4,"ngFor","ngForOf"],["id","modalPremio","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body",3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],[1,"form-label"],["type","text","formControlName","titulo",1,"form-control"],["formControlName","descricao","rows","3",1,"form-control"],[1,"col-md-4"],["type","number","formControlName","pontos",1,"form-control"],["formControlName","icone",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4","d-flex","align-items-end"],[1,"form-check"],["type","checkbox","formControlName","destaque",1,"form-check-input"],[1,"form-check-label"],[1,"modal-footer"],["data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-success"],[1,"premio-card"],[1,"icone-wrapper"],[1,"descricao"],[1,"pontos"],[1,"bi","bi-coin"],[1,"acoes"],["data-bs-toggle","modal","data-bs-target","#modalPremio",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-pencil-square"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-trash3"],["class","badge-destaque",4,"ngIf"],[1,"badge-destaque"],[1,"bi","bi-star-fill"],[3,"value"]],template:function(i,l){i&1&&(t(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"i",3),o(4," Gest\xE3o de Pr\xEAmios "),e(),t(5,"button",4),p("click",function(){return l.abrirNovo()}),r(6,"i",5),o(7," Cadastrar Pr\xEAmio "),e()(),t(8,"div",6),u(9,J,16,8,"div",7),e()(),t(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"h5",12),o(15),e(),r(16,"button",13),e(),t(17,"form",14),p("ngSubmit",function(){return l.salvar()}),t(18,"div",15)(19,"div",16)(20,"label",17),o(21,"T\xEDtulo"),e(),r(22,"input",18),e(),t(23,"div",16)(24,"label",17),o(25,"Descri\xE7\xE3o"),e(),r(26,"textarea",19),e(),t(27,"div",20)(28,"label",17),o(29,"Pontos"),e(),r(30,"input",21),e(),t(31,"div",20)(32,"label",17),o(33,"\xCDcone"),e(),t(34,"select",22),u(35,K,2,2,"option",23),e()(),t(36,"div",24)(37,"div",25),r(38,"input",26),t(39,"label",27),o(40,"Destaque"),e()()()(),t(41,"div",28)(42,"button",29),o(43,"Cancelar"),e(),t(44,"button",30),o(45,"Salvar"),e()()()()()()),i&2&&(a(9),s("ngForOf",l.premios),a(6),f(" ",l.editMode?"Editar Pr\xEAmio":"Cadastrar Pr\xEAmio"," "),a(2),s("formGroup",l.form),a(18),s("ngForOf",l.iconesDisponiveis))},dependencies:[$,q,j,G,F,D,w,T,N,A,k,O,y,B,V,I],styles:[".premios-container[_ngcontent-%COMP%]{padding:25px}.premios-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.premios-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;display:flex;align-items:center;gap:10px}.premios-grid[_ngcontent-%COMP%]{margin-top:25px;display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:20px}.premio-card[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:16px;box-shadow:0 2px 12px #00000012;position:relative;transition:.2s ease;text-align:center}.premio-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 16px #0000001f}.premio-card[_ngcontent-%COMP%]   .icone-wrapper[_ngcontent-%COMP%]{font-size:40px;margin-bottom:10px;color:#555}.premio-card[_ngcontent-%COMP%]   .icone-wrapper.destaque[_ngcontent-%COMP%]{color:#eab308}.premio-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px}.premio-card[_ngcontent-%COMP%]   .descricao[_ngcontent-%COMP%]{min-height:60px;font-size:.9rem;color:#555}.premio-card[_ngcontent-%COMP%]   .pontos[_ngcontent-%COMP%]{margin-top:10px;font-weight:700;font-size:1.1rem;color:#0d6efd}.premio-card[_ngcontent-%COMP%]   .acoes[_ngcontent-%COMP%]{margin-top:15px;display:flex;justify-content:center;gap:10px}.premio-card[_ngcontent-%COMP%]   .badge-destaque[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:#eab308;color:#fff;padding:4px 8px;font-size:.75rem;border-radius:8px;display:flex;align-items:center;gap:5px}"]})};export{Y as PremiosAdminComponent};
