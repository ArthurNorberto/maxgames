import{a as D,b as G}from"./chunk-O5GQYPGG.js";import{a as z}from"./chunk-Y33K7AZW.js";import{a as I}from"./chunk-JWPH47B2.js";import{d as k,e as H,h as T}from"./chunk-PTHPNUVQ.js";import"./chunk-5BLSFZMB.js";import{d as F,e as N,f as U,g as j,h as q,l as Z,m as A,n as R,q as W,t as B}from"./chunk-5VMU7HGZ.js";import{Ab as v,Db as S,Eb as O,Fb as P,Ga as l,Pa as d,T as p,U as f,Ua as y,V as u,W as x,Ya as C,a as w,db as c,eb as e,ec as L,fb as t,fc as V,gb as g,lc as E,mb as M,ob as h,qb as _,zb as i}from"./chunk-D5XL275M.js";function J(r,o){if(r&1&&(e(0,"option",32),i(1),t()),r&2){let n=o.$implicit;c("value",n),l(),v(n)}}function K(r,o){if(r&1&&(e(0,"div",20)(1,"label",21),i(2,"Usu\xE1rio"),t(),e(3,"select",33)(4,"option"),i(5),t()()()),r&2){let n=_();l(5),v(n.usuariosSetor.nome)}}function Q(r,o){if(r&1&&(e(0,"option",32),i(1),t()),r&2){let n=o.$implicit;c("value",n),l(),v(n)}}function X(r,o){if(r&1){let n=M();e(0,"div",20)(1,"label",21),i(2,"Tribo"),t(),e(3,"select",34),P("ngModelChange",function(s){p(n);let m=_();return O(m.team,s)||(m.team=s),f(s)}),e(4,"option",23),i(5,"Selecione sua tribo..."),t(),C(6,Q,2,2,"option",24),t()()}if(r&2){let n=_();l(3),S("ngModel",n.team),l(3),c("ngForOf",n.equipes)}}var Y=class r{constructor(o,n,a,s,m){this.router=o;this.loginService=n;this.usuariosService=a;this.comunidadesService=s;this.tribosService=m}setores=[];equipes=[];usuariosSetor=null;sector="";team="";ngOnInit(){this.comunidadesService.getComunidades().subscribe(o=>this.setores=o.map(n=>n.nome).filter(n=>n!=="Administrador"))}onSetorChange(){this.team="",this.usuariosService.getUsuarioPorSetor(this.sector).subscribe(o=>this.usuariosSetor=o),this.sector==="Central de Atendimento"?this.tribosService.getTribos().subscribe(o=>this.equipes=o.map(n=>n.nome)):this.equipes=[]}login(){if(!this.usuariosSetor)return;let o=w({},this.usuariosSetor);this.sector==="Central de Atendimento"&&(o.tribo=this.team),this.loginService.saveUser(o),this.loginService.usuarioEhAdmin()?this.router.navigate(["/admin/inicio"]):this.router.navigate(["/inicio"])}static \u0275fac=function(n){return new(n||r)(d(k),d(I),d(z),d(D),d(G))};static \u0275cmp=y({type:r,selectors:[["app-login"]],decls:54,vars:5,consts:[["loginForm","ngForm"],[1,"login-wrapper"],["aria-hidden","true",1,"bg-image"],["aria-hidden","true",1,"bg-overlay"],["role","banner","aria-label","MaxPlay central",1,"center-main"],["src","/assets/max-play-logo2.png","alt","MaxPlay",1,"main-logo"],[1,"slogan"],["aria-hidden","false",1,"features-left"],[1,"feat-item"],[1,"feat-icon"],["width","20","height","20","viewBox","0 0 24 24","fill","#cfe4ff","xmlns","http://www.w3.org/2000/svg"],["d","M17 3H7V5H5V9H19V5H17V3ZM7 19H17V15H7V19ZM12 13C13.66 13 15 14.34 15 16H9C9 14.34 10.34 13 12 13Z"],[1,"feat-label"],["d","M12 17.27L18.18 21L16.54 13.97L22 9.24L14.81 8.63L12 2L9.19 8.63L2 9.24L7.46 13.97L5.82 21L12 17.27Z"],["d","M6 2H18C19.11 2 20 2.89 20 4V16C20 17.11 19.11 18 18 18H6C4.89 18 4 17.11 4 16V4C4 2.89 4.89 2 6 2ZM8 6H10V8H8V6ZM14 6H16V8H14V6ZM8 10H10V12H8V10ZM14 10H16V12H14V10Z"],["role","main",1,"content"],["aria-labelledby","login-title",1,"login-box"],["id","login-title",1,"title"],[1,"subtitle"],["novalidate","",3,"ngSubmit"],[1,"form-group","mb-3"],[1,"form-label"],["required","","name","sector",1,"form-control",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-group mb-3",4,"ngIf"],[1,"btn-login",3,"disabled"],[1,"footer-text"],[1,"links"],["routerLink","/register",1,"link"],[1,"divider"],["routerLink","/forgot-password",1,"link"],[3,"value"],["disabled","",1,"form-control"],["name","team","required","",1,"form-control",3,"ngModelChange","ngModel"]],template:function(n,a){if(n&1){let s=M();e(0,"div",1),g(1,"div",2)(2,"div",3),e(3,"div",4),g(4,"img",5),e(5,"p",6),i(6,"Transforme objetivos em conquistas"),t(),e(7,"div",7)(8,"div",8)(9,"div",9),u(),e(10,"svg",10),g(11,"path",11),t()(),x(),e(12,"span",12),i(13,"Conquistas"),t()(),e(14,"div",8)(15,"div",9),u(),e(16,"svg",10),g(17,"path",13),t()(),x(),e(18,"span",12),i(19,"Ranking"),t()(),e(20,"div",8)(21,"div",9),u(),e(22,"svg",10),g(23,"path",14),t()(),x(),e(24,"span",12),i(25,"Desafios"),t()()()(),e(26,"div",15)(27,"div",16)(28,"h2",17),i(29,"Bem-vindo ao MaxPlay"),t(),e(30,"p",18),i(31,"Fa\xE7a login para continuar"),t(),e(32,"form",19,0),h("ngSubmit",function(){return p(s),f(a.login())}),e(34,"div",20)(35,"label",21),i(36,"Comunidade"),t(),e(37,"select",22),P("ngModelChange",function(b){return p(s),O(a.sector,b)||(a.sector=b),f(b)}),h("change",function(){return p(s),f(a.onSetorChange())}),e(38,"option",23),i(39,"Selecione sua comunidade..."),t(),C(40,J,2,2,"option",24),t()(),C(41,K,6,1,"div",25)(42,X,7,2,"div",25),e(43,"button",26),i(44," Entrar no MaxPlay "),t(),e(45,"p",27),i(46,"Autoglass \u2022 Corporativo"),t(),e(47,"div",28)(48,"a",29),i(49,"Criar conta"),t(),e(50,"span",30),i(51,"\u2022"),t(),e(52,"a",31),i(53,"Esqueci minha senha"),t()()()()()()}n&2&&(l(37),S("ngModel",a.sector),l(3),c("ngForOf",a.setores),l(),c("ngIf",a.usuariosSetor),l(),c("ngIf",a.sector==="Central de Atendimento"),l(),c("disabled",!a.usuariosSetor||a.sector==="Central de Atendimento"&&!a.team))},dependencies:[E,L,V,T,H,B,q,A,R,Z,F,N,W,j,U],styles:['@charset "UTF-8";.login-wrapper[_ngcontent-%COMP%]{position:fixed;inset:0;overflow:hidden;height:100vh;width:100vw;font-family:Segoe UI,sans-serif;color:#fff;background:#000}.bg-image[_ngcontent-%COMP%]{background:url(/assets/espaco.png) center center/cover no-repeat;position:absolute;inset:0;z-index:1}.bg-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000008c;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:2}.center-main[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:4;display:flex;flex-direction:column;align-items:flex-start;text-align:left}.center-main[_ngcontent-%COMP%]   .main-logo[_ngcontent-%COMP%]{width:760px;max-width:calc(100vw - 420px);height:auto;filter:drop-shadow(0 0 30px rgba(255,255,255,.45));animation:_ngcontent-%COMP%_float 5s infinite ease-in-out}.center-main[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{margin-top:14px;font-size:20px;font-weight:300;letter-spacing:.3px;color:#ffffffeb}.center-main[_ngcontent-%COMP%]   .features-left[_ngcontent-%COMP%]{margin-top:14px;display:flex;gap:16px;align-items:center}.center-main[_ngcontent-%COMP%]   .features-left[_ngcontent-%COMP%]   .feat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.center-main[_ngcontent-%COMP%]   .features-left[_ngcontent-%COMP%]   .feat-item[_ngcontent-%COMP%]   .feat-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;background:#081632d9;display:flex;justify-content:center;align-items:center;box-shadow:0 4px 12px #0000004d}.center-main[_ngcontent-%COMP%]   .features-left[_ngcontent-%COMP%]   .feat-item[_ngcontent-%COMP%]   .feat-label[_ngcontent-%COMP%]{margin-top:6px;font-size:13px;color:#ffffffe6}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translate(-50%,-50%) translateY(0)}50%{transform:translate(-50%,-50%) translateY(-6px)}}.content[_ngcontent-%COMP%]{position:relative;z-index:5;height:100%;display:flex;justify-content:flex-end;align-items:center;padding-right:70px}.login-box[_ngcontent-%COMP%]{width:380px;padding:28px;border-radius:18px;background:#fff;border:1px solid #e1e1e1;box-shadow:0 8px 30px #0206148c;color:#222}.login-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:#222}.login-box[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin-top:6px;font-size:13px;color:#444;opacity:.9;margin-bottom:14px}.login-box[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:#222;font-weight:600;margin-bottom:4px;display:block}.form-control[_ngcontent-%COMP%]{width:100%;background:#f5f5f5;color:#222;border:1px solid #ccc;padding:10px 12px;border-radius:10px;font-size:14px;appearance:none;transition:box-shadow .18s,border-color .18s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#1f61ff;box-shadow:0 0 10px #1f61ff40}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#111;background:#fff}.btn-login[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:12px;margin-top:10px;border:none;background:linear-gradient(90deg,#1f61ff,#4d88ff);color:#fff;font-weight:700;font-size:15px;cursor:pointer}.btn-login[disabled][_ngcontent-%COMP%]{background:#50505099;cursor:not-allowed}.footer-text[_ngcontent-%COMP%]{text-align:center;margin-top:12px;font-size:12px;opacity:.6;color:#333}.links[_ngcontent-%COMP%]{margin-top:18px;display:flex;justify-content:center;align-items:center;gap:12px;font-size:13px}.links[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#1f61ff;font-weight:600;text-decoration:none;transition:color .2s ease,opacity .2s ease}.links[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#4d88ff;text-decoration:underline}.links[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{color:#666;opacity:.7}@media(max-width:1150px){.center-main[_ngcontent-%COMP%]   .main-logo[_ngcontent-%COMP%]{width:540px}.center-main[_ngcontent-%COMP%]   .slogan[_ngcontent-%COMP%]{font-size:18px}.content[_ngcontent-%COMP%]{padding-right:32px}.login-box[_ngcontent-%COMP%]{width:360px;padding:22px}}@media(max-width:900px){.center-main[_ngcontent-%COMP%]{display:none}.content[_ngcontent-%COMP%]{justify-content:center;padding-right:0}.login-box[_ngcontent-%COMP%]{width:calc(100% - 40px);margin:0 20px}}']})};export{Y as LoginComponent};
